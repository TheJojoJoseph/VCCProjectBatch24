(this["webpackJsonpstudent-registry-frontend"]=this["webpackJsonpstudent-registry-frontend"]||[]).push([[0],{143:function(e,t){e.exports.CONFIG={API_URL:"http://localhost:5001",API_VERSION:"/api",PROD_PORT:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT?Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT:8e3}},182:function(e,t,n){e.exports={"inline-flex":"style_inline-flex__2gWzq",flexbox:"style_flexbox__-gPwL","flex-column":"style_flex-column__2wNmq",formFeild:"style_formFeild__3KGH1","row-reverse":"style_row-reverse__RtOoi","column-reverse":"style_column-reverse__2YpI4","all-center":"style_all-center__3AtCV","justify-center":"style_justify-center__2JZVe","justify-between":"style_justify-between__k0GAk","justify-around":"style_justify-around__3W5Bm","justify-start":"style_justify-start__2SVmc","justify-end":"style_justify-end__2mjIA","item-center":"style_item-center__3Smil","item-start":"style_item-start__1kAcf","item-end":"style_item-end__1R8Sk","item-stretch":"style_item-stretch__3uUvU","item-nowrap":"style_item-nowrap__1gvqb","item-wrap":"style_item-wrap__3ZLrR","image-overlay":"style_image-overlay__Klv_R","timeline-box":"style_timeline-box__MwxG7","borer-theam":"style_borer-theam__1o_W5","break-text":"style_break-text__2bsvV"}},189:function(e,t,n){e.exports={container:"style_container__3L8lo"}},333:function(e,t){},341:function(e,t,n){},342:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(29),i=n.n(s),o=n(81),c=n(31),l=n(38),u=(n(201),n(190)),d=n(80),_=n(181),p=n(179),h=n.n(p),b=n(180),f=n(1),j="LOGIN_SUCCESS",g="LOGIN_STARTED",m="LOGIN_FAILED",v="accessToken";function O(e,t){return Object(f.a)(Object(f.a)({},e),{},{login:{loading:!0,error:!1}})}function y(e,t){return localStorage.setItem(v,t.data.token),Object(f.a)(Object(f.a)({},e),{},{login:{loading:!1,error:!1}})}function x(e,t){return Object(f.a)(Object(f.a)({},e),{},{login:{loading:!1,error:t}})}var S={login:{loading:!1,error:!1,data:{}}};var C=Object(d.combineReducers)({Login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return y(e,t.payload);case g:return O(e,t.payload);case m:return x(e,t.payload);default:return Object(f.a)({},e)}}}),k=n(17),T=Object(b.composeWithDevTools)({trace:!0}),I=Object(d.createStore)(C,T(Object(d.applyMiddleware)(_.a,h.a))),P=function(e){return Object(k.jsx)(u.a,{store:I,children:e.children})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,345)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))},R=n(7),N=n(8),E=n(11),L=n(12),F=n(3),A=n(41),U=n(27),D=n.n(U),B="/login",V="/home",W="/",G=n(48),M=n.n(G),q=n(89),H=n.n(q),K=n(344),J=n(182),Y=n.n(J),z=function(e){Object(E.a)(n,e);var t=Object(L.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"render",value:function(){return Object(k.jsxs)("div",{className:Y.a.formFeild,children:[Object(k.jsx)("label",{htmlFor:this.props.htmlForName,children:this.props.placeholderLabel}),Object(k.jsx)("input",{type:this.props.type,placeholder:this.props.placeholderLabel,name:this.props.htmlForName,onChange:this.props.onChange,value:this.props.value}),Object(k.jsx)("p",{children:this.props.error})]})}}]),n}(a.Component);z.Prototype={className:M.a.string,type:M.a.string,placeholder:M.a.string,value:M.a.string};var Q=2500,X=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.b.success(e,Object(f.a)({position:l.b.POSITION.TOP_CENTER,autoClose:!!t&&Q},$()))},Z=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.b.error(e,Object(f.a)({position:l.b.POSITION.TOP_CENTER,autoClose:!!t&&Q},$()))},$=(l.b.TYPE.WARNING,l.b.TYPE.ERROR,l.b.TYPE.INFO,l.b.TYPE.SUCCESS,function(){return{position:l.b.POSITION.TOP_RIGHT,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0}}),ee=function(){var e=Object(A.a)(D.a.mark((function e(t){var n,a,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fields,a=t.key,r=t.value,e.prev=1,e.next=4,n[a].validate(Object(F.a)({},a,r));case 4:return e.abrupt("return",{isValid:!0});case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{isValid:!0,error:e.t0.errors[0]});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),te=n(78),ne={name:te.b().shape({name:te.c().required()}),age:te.b().shape({age:te.a().required()}),stu_class:te.b().shape({stu_class:te.a().required()})},ae=n(128),re=n.n(ae),se=n(143),ie=re.a.CancelToken,oe=function(){function e(t){Object(R.a)(this,e),this.baseURL=t.baseURL,this.api=this.axiosInstance(),this.pending={},this.CancelToken=re.a.CancelToken,this.setCancelPendingInterceptor(this.api)}return Object(N.a)(e,[{key:"axiosInstance",value:function(){return this.api=re.a.create({baseURL:se.CONFIG.API_URL+se.CONFIG.API_VERSION+this.baseURL}),this.api}},{key:"updatePending",value:function(e,t){var n="";if(e&&e.url&&(n="".concat(e.baseURL).concat(e.url)),e&&e.method){var a="";e.method&&(a=n+"&"+e.method),e.params&&(a+="&"+JSON.stringify(e.params)),t?this.pending[a]=t:delete this.pending[a]}}},{key:"setCancelPendingInterceptor",value:function(e){var t=this;return e||(e=this.axiosInstance()),e.interceptors.request.use((function(e){if(console.log("config",e),e.noCancel)return e;var n=localStorage.getItem(v);return n&&(e.headers.Authorization="Bearer ".concat(n)),e.cancelToken=new ie((function(n){t.updatePending(e,n)})),e})),e.interceptors.response.use((function(e){return t.updatePending(e.config),e}),(function(e){var n=e.response;return n&&401===n.status&&(localStorage.clear(),window.location=B),t.updatePending(e.config),Promise.reject(e)})),e}},{key:"cancelPending",value:function(){var e=this;Object.keys(this.pending).forEach((function(t){e.pending[t]&&(e.pending[t](),delete e.pending[t])}))}}]),e}(),ce=new oe({baseURL:"/listStudents/"}).api,le=function(){var e=Object(A.a)(D.a.mark((function e(t){var n,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.results*t.page-t.results,a=t.results,e.abrupt("return",ce.post(null,{offset:n,limit:a}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=new oe({baseURL:"/addStudent/"}).api,de=function(){var e=Object(A.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ue.post(null,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=n(96),pe=n.n(_e),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search,t=pe.a.parse(fe(e),{arrayLimit:1e3});return t},be=function(e){return pe.a.stringify(e)},fe=function(e){return e.startsWith("?")?e.substr(1):e};var je=n.p+"static/media/logo.fee04211.png",ge=function(e){Object(E.a)(n,e);var t=Object(L.a)(n);function n(e){var a;return Object(R.a)(this,n),(a=t.call(this,e)).clearForm=function(){a.setState({name:{value:"",error:""},age:{value:"",error:""},stu_class:{value:"",error:""}})},a.handleLogout=function(){localStorage.clear(),props.history.push(B)},a.toggleStudentModal=Object(A.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state.isModalVisible,a.setState({isModalVisible:!t});case 2:case"end":return e.stop()}}),e)}))),a.addStudent=function(){var e=a.state,t=e.name,n=e.age,r=e.stu_class;de({name:t.value,age:n.value,class:r.value}).then((function(e){X("Student added successfully"),a.props.history.replace({search:be({addSuccess:!0})}),a.clearForm(),a.toggleStudentModal()})).catch((function(e){Z("Error in adding student")}))},a.inputChange=function(){var e=Object(A.a)(D.a.mark((function e(t){var n,r,s,i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,r=n.name,s=n.value,e.next=3,ee({fields:ne,key:r,value:s});case 3:i=e.sent,a.setState(Object(F.a)({},t.target.name,{value:s,error:i.error||null}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={isModalVisible:!1,name:{value:"",error:""},age:{value:"",error:""},stu_class:{value:"",error:""}},a}return Object(N.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isModalVisible,a=t.name,r=t.age,s=t.stu_class;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:H.a["nav-bar"],children:[Object(k.jsxs)("div",{className:H.a.navs,children:[Object(k.jsx)("img",{src:je,alt:"Logo",className:H.a.logo})," ",Object(k.jsx)(o.b,{onClick:function(e){return e.preventDefault},children:"VCC Project - IITJ"})]}),Object(k.jsx)("div",{className:H.a["user-controls"],children:Object(k.jsx)(o.b,{onClick:function(t){t.preventDefault(),e.toggleStudentModal()},children:"Add Student"})})]}),Object(k.jsx)(K.a,{title:"Add Student Form",visible:n,onOk:this.addStudent,onCancel:this.toggleStudentModal,children:Object(k.jsxs)("ul",{className:H.a.formsBlock__list,children:[Object(k.jsx)("li",{children:Object(k.jsx)(z,{htmlForName:"name",placeholderLabel:"Name",type:"text",onChange:this.inputChange,value:a.value,error:a.error})}),Object(k.jsx)("li",{children:Object(k.jsx)(z,{htmlForName:"age",placeholderLabel:"Age",type:"number",onChange:this.inputChange,value:r.value,error:r.error})}),Object(k.jsx)("li",{children:Object(k.jsx)(z,{htmlForName:"stu_class",placeholderLabel:"Class",type:"number",onChange:this.inputChange,value:s.value,error:s.error})})]})})]})}}]),n}(r.a.Component),me=Object(c.g)(ge);ge.PropType={className:M.a.string};var ve=n(343),Oe=[{title:"Id",dataIndex:"id"},{title:"Name",dataIndex:"name"},{title:"Age",dataIndex:"age"},{title:"Class",dataIndex:"class"}],ye=function(e){return{results:e.pagination.pageSize,page:e.pagination.current}},xe=function(e){Object(E.a)(n,e);var t=Object(L.a)(n);function n(){var e;Object(R.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:[],pagination:{current:1,pageSize:5},loading:!1},e.getUrlParams=function(){return he(e.props.location.search)},e.componentDidMount=function(){var t=e.state.pagination;e.fetch({pagination:t})},e.componentDidUpdate=function(){e.getUrlParams().addSuccess&&(e.props.history.replace({search:be({})}),e.fetch({pagination:e.state.pagination}))},e.handleTableChange=function(t){e.fetch({pagination:t})},e.fetch=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setState({loading:!0}),le(ye(t)).then((function(n){e.setState({loading:!1,data:n.data.data.data,pagination:Object(f.a)(Object(f.a)({},t.pagination),{},{total:n.data.data.totalCount[0].count})})}))},e}return Object(N.a)(n,[{key:"render",value:function(){var e=this.state,t=e.data,n=e.pagination,a=e.loading;return Object(k.jsx)(ve.a,{columns:Oe,dataSource:t,pagination:n,loading:a,onChange:this.handleTableChange})}}]),n}(r.a.Component),Se=xe,Ce=n(189),ke=n.n(Ce),Te=function(e){Object(E.a)(n,e);var t=Object(L.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(N.a)(n,[{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){return Object(k.jsxs)(a.Fragment,{children:[Object(k.jsx)(me,{}),Object(k.jsx)("div",{className:ke.a.container,children:Object(k.jsxs)(c.d,{children:[Object(k.jsx)(c.b,{path:V,component:Se}),Object(k.jsx)(c.a,{from:W,to:V})]})})]})}}]),n}(a.Component),Ie=Te;n(340),n(341);i.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsxs)(P,{children:[Object(k.jsx)(o.a,{children:Object(k.jsxs)(c.d,{children:[Object(k.jsx)(c.b,{path:W,component:Ie}),Object(k.jsx)(c.a,{from:"*",to:W})]})}),Object(k.jsx)(l.a,{})]})}),document.getElementById("root")),w()},89:function(e,t,n){e.exports={"inline-flex":"style_inline-flex__K81r_",flexbox:"style_flexbox__2Q07Y","flex-column":"style_flex-column__X4xhU",formsBlock__list:"style_formsBlock__list__15-e3",formsBlock:"style_formsBlock__XQIt9","row-reverse":"style_row-reverse__3BydF","column-reverse":"style_column-reverse__2sRk6","all-center":"style_all-center__e4B6V","justify-center":"style_justify-center__3acXM","justify-between":"style_justify-between__3BRAD","justify-around":"style_justify-around__1Ojk6","justify-start":"style_justify-start__3uu2W","justify-end":"style_justify-end__1TkSk","item-center":"style_item-center__1WCBs","item-start":"style_item-start__-Se3g","item-end":"style_item-end__2af_G","item-stretch":"style_item-stretch__1xtc2","item-nowrap":"style_item-nowrap__q4qZn","item-wrap":"style_item-wrap__1JP8P","image-overlay":"style_image-overlay__3L5--","timeline-box":"style_timeline-box__13vI_","borer-theam":"style_borer-theam__3lGfQ","break-text":"style_break-text__1DWL8","nav-bar":"style_nav-bar__1oRRE",logo:"style_logo__1zJAt"}}},[[342,1,2]]]);
//# sourceMappingURL=main.ee7ebaa8.chunk.js.map